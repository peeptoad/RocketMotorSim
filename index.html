<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rocket Engine Performance Analyzer</title>
    <!-- Include Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>Rocket Engine Performance Analyzer</h1>
    <div>
        <label for="initialMass">Initial Propellant Mass (grams):</label>
        <select id="initialMass">
            <!-- Options will be dynamically generated using JavaScript -->
        </select>
    </div>
    <div>
        <label for="time">Time (seconds):</label>
        <input type="number" id="time">
        <label for="thrust">Thrust (lbs):</label>
        <input type="number" id="thrust">
        <button onclick="addData()">Add Data</button>
    </div>
    <div>
        <label for="ejectionTime">Ejection Charge Time (seconds):</label>
        <input type="number" id="ejectionTime">
        <button onclick="addEjectionCharge()">Add Ejection Charge</button>
    </div>
    <div>
        <button onclick="removeLastDataPoint()">Remove Last Data Point</button>
        <button onclick="calculateMetrics()">Calculate Metrics</button>
    </div>
    <div>
        <canvas id="performanceChart" width="800" height="400"></canvas>
    </div>
    <div>
        <p>Maximum Thrust (lbs): <span id="maxThrust"></span></p>
        <p>Maximum Thrust (N): <span id="maxThrustNewton"></span></p>
        <p>Average Thrust (lbs): <span id="averageThrust"></span></p>
        <p>Average Thrust (N): <span id="averageThrustNewton"></span></p>
        <p>Burn Time (seconds): <span id="burnTime"></span></p>
        <p>Time from Burnout to Ejection (seconds): <span id="burnoutToEjectionTime"></span></p>
        <p>Total Duration (seconds): <span id="totalDuration"></span></p>
        <p>Total Impulse (lbs-sec): <span id="totalImpulseLbs"></span></p>
        <p>Total Impulse (N-sec): <span id="totalImpulseNewton"></span></p>
        <p>Mass Flow Rate (grams/second): <span id="massFlowRate"></span></p>
        <p>Total Impulse per Unit Mass (N-sec/gram): <span id="totalImpulsePerUnitMass"></span></p>
        <p>Specific Impulse (seconds): <span id="specificImpulse"></span></p>
    </div>
    <hr>
    <div>
        <h2>Flight Simulator</h2>
        <label for="rocketWeight">Rocket Weight (lbs):</label>
        <input type="number" id="rocketWeight">
        <label for="rocketDiameter">Rocket Diameter (inches):</label>
        <input type="number" id="rocketDiameter">
        <label for="rocketLength">Rocket Length (inches):</label>
        <input type="number" id="rocketLength">
        <button onclick="simulateFlight()">Simulate Flight</button>
    </div>
    <div id="flightResults">
        <!-- Flight simulation results will be displayed here -->
    </div>

    <script>
        // Constants
        const GRAVITY_AT_SEA_LEVEL = 9.81; // Placeholder value, replace with actual value
        const AIR_DENSITY_AT_SEA_LEVEL = 1.225; // Placeholder value, replace with actual value

        // Initialize arrays to store data
        let dataPoints = [{ time: 0, thrust: 0 }]; // Initial data point at (0, 0)

        // Initialize chart
        const ctx = document.getElementById('performanceChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['0'], // Initial label at 0
                datasets: [{
                    label: 'Thrust (lbs)',
                    data: [0], // Initial data point at (0, 0)
                    borderColor: 'blue',
                    backgroundColor: 'rgba(0, 0, 255, 0.1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    x: {
                        type: 'linear',
                        position: 'bottom',
                        title: {
                            display: true,
                            text: 'Time (seconds)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Thrust (lbs)'
                        }
                    }
                }
            }
        });

        // Function to add data point
        function addData() {
            let time = parseFloat(document.getElementById('time').value);
            let thrust = parseFloat(document.getElementById('thrust').value);
            dataPoints.push({ time: time, thrust: thrust });

            // Update chart
            myChart.data.labels.push(time.toString());
            myChart.data.datasets[0].data.push(thrust);
            myChart.update();
        }

        // Function to add ejection charge time
        function addEjectionCharge() {
            let ejectionTime = parseFloat(document.getElementById('ejectionTime').value);
            dataPoints.push({ time: ejectionTime, thrust: 0 }); // Assuming ejection charge thrust is 0

            // Update chart
            myChart.data.labels.push(ejectionTime.toString());
            myChart.data.datasets[0].data.push(0);
            myChart.update();
        }

        // Function to remove last data point
        function removeLastDataPoint() {
            dataPoints.pop();

            // Update chart
            myChart.data.labels.pop();
            myChart.data.datasets[0].data.pop();
            myChart.update();
        }

        // Function to calculate metrics
        function calculateMetrics() {
            // Calculate metrics based on dataPoints array
            // Update UI with calculated metrics
        }

        // Function to simulate flight
        function simulateFlight() {
            // Retrieve inputs from UI
            let rocketWeight = parseFloat(document.getElementById('rocketWeight').value);
            let rocketDiameter = parseFloat(document.getElementById('rocketDiameter').value);
            let rocketLength = parseFloat(document.getElementById('rocketLength').value);

            // Perform flight simulation with environmental factors
            // Update UI with flight simulation results
        }

        // Function to interpolate thrust value from provided data at a given time
        function interpolateThrust(dataPoints, time) {
            // Interpolate thrust value using provided dataPoints array
            // Return the interpolated thrust value
        }

        // Function to calculate drag force
        function calculateDragForce(velocity) {
            // Calculate drag force based on velocity, drag coefficient, and rocket cross-sectional area
            // Return the drag force
        }

        // Function to calculate gravitational acceleration at a given altitude
        function calculateGravitationalAcceleration(altitude) {
            // Calculate gravitational acceleration based on altitude
            // Return the gravitational acceleration
        }
    </script>
</body>
</html>



