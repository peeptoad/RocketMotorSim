
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Thrust Graph</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <canvas id="thrustChart" width="400" height="400"></canvas>

    <div>
        <label for="weightInput">Weight (lbs):</label>
        <input type="number" id="weightInput" step="0.5" placeholder="Enter weight">
        
        <label for="timeInput">Time (seconds):</label>
        <input type="number" id="timeInput" step="0.25" placeholder="Enter time">

        <button onclick="addDataPoint()">Add Data Point</button>
        <button onclick="removeLastDataPoint()">Remove Last Data Point</button>
    </div>

    <div>
        <label for="propMassInput">Initial Propellant Mass (g):</label>
        <input type="number" id="propMassInput" step="1" placeholder="Enter initial propellant mass">
        
        <label for="throatDiameterInput">Throat Diameter (in):</label>
        <input type="number" id="throatDiameterInput" step="0.01" placeholder="Enter throat diameter">

        <label for="exitDiameterInput">Nozzle Exit Diameter (in):</label>
        <input type="number" id="exitDiameterInput" step="0.01" placeholder="Enter nozzle exit diameter">

        <button onclick="calculateThrust()">Calculate Thrust</button>
    </div>

    <div id="metrics">
        <h2>Calculated Metrics</h2>
        <p>Max Thrust: <span id="maxThrust"></span> lbs</p>
        <p>Exhaust Velocity: <span id="exhaustVelocity"></span> m/s</p>
        <p>Total Impulse: <span id="totalImpulse"></span> Ns</p>
        <p>Mass Flow Rate: <span id="massFlowRate"></span> g/s</p>
        <p>Time to Max Thrust: <span id="timeToMaxThrust"></span> s</p>
        <p>Thrust Duration: <span id="thrustDuration"></span> s</p>
        <!-- You can include additional metrics here -->
    </div>

    <script>
        var data = {
            labels: [],
            datasets: [{
                label: 'Thrust',
                data: [],
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 2,
                fill: false
            }]
        };

        var options = {
            scales: {
                x: {
                    type: 'linear',
                    position: 'bottom'
                },
                y: {
                    type: 'linear',
                    position: 'left'
                }
            }
        };

        var ctx = document.getElementById('thrustChart').getContext('2d');
        var thrustChart = new Chart(ctx, {
            type: 'line',
            data: data,
            options: options
        });

        function addDataPoint() {
            var weightInput = document.getElementById('weightInput').value;
            var timeInput = document.getElementById('timeInput').value;

            if (weightInput && timeInput) {
                data.labels.push(timeInput);
                data.datasets[0].data.push(parseFloat(weightInput));

                thrustChart.update();
            }
        }

        function removeLastDataPoint() {
            data.labels.pop();
            data.datasets[0].data.pop();

            thrustChart.update();
        }

        function calculateThrust() {
            var propMass = document.getElementById('propMassInput').value;
            var throatDiameter = document.getElementById('throatDiameterInput').value;
            var exitDiameter = document.getElementById('exitDiameterInput').value;

            // Convert propellant mass from grams to kilograms
            var propMassKg = propMass / 1000;

            // Perform calculations here and update the graph with the results
            // For simplicity, let's assume some basic calculations
            var maxThrust = propMassKg * 9.81; // Assuming Earth's gravity
            var exhaustVelocity = Math.sqrt((2 * maxThrust) / propMassKg);
            var totalImpulse = maxThrust * parseFloat(data.labels[data.labels.length - 1]); // Max thrust * burn time
            var massFlowRate = propMassKg / parseFloat(data.labels[data.labels.length - 1]);
            
            // Calculate time to max thrust
            var timeToMaxThrust = parseFloat(data.labels[data.datasets[0].data.indexOf(Math.max(...data.datasets[0].data))]);

            // Calculate thrust duration
            var thrustDuration = parseFloat(data.labels[data.labels.length - 1]) - parseFloat(data.labels[0]);

            // Update the graph with calculated values
            document.getElementById('maxThrust').textContent = maxThrust.toFixed(2);
            document.getElementById('exhaustVelocity').textContent = exhaustVelocity.toFixed(2);
            document.getElementById('totalImpulse').textContent = totalImpulse.toFixed(2);
            document.getElementById('massFlowRate').textContent = (massFlowRate * 1000).toFixed(2); // Convert to grams/s
            document.getElementById('timeToMaxThrust').textContent = timeToMaxThrust.toFixed(2);
            document.getElementById('thrustDuration').textContent = thrustDuration.toFixed(2);

            // You can also display these calculated values on the graph or elsewhere in the HTML
        }
    </script>
</body>
</html>





