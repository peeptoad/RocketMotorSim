<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rocket Engine Performance Analyzer</title>
    <!-- Include Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>Rocket Engine Performance Analyzer</h1>
    <div>
        <label for="initialMass">Initial Propellant Mass:</label>
        <select id="initialMass">
            <!-- Generate options from 0 to 100 grams in intervals of 1 gram -->
            <!-- Using a loop to generate options -->
            <!-- Start the loop from 0 and end at 100 -->
            <!-- Increment by 1 for each iteration -->
            <!-- Use string interpolation to include the gram value in each option -->
            <!-- Value attribute of each option will have the gram value -->
            <!-- Displayed text will be in grams -->
            <!-- End of the loop -->
            <!-- Total 101 options (0 to 100) -->
        </select>
    </div>
    <div>
        <label for="time">Time (seconds):</label>
        <input type="number" id="time">
        <label for="thrust">Thrust (lbs):</label>
        <input type="number" id="thrust">
        <button onclick="addData()">Add Data</button>
        <button onclick="removeLastDataPoint()">Remove Last Data Point</button>
    </div>
    <div>
        <canvas id="performanceChart" width="800" height="400"></canvas>
    </div>

    <script>
        // Initialize arrays to store data
        let dataPoints = [];

        // Initialize chart
        const ctx = document.getElementById('performanceChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: 'Thrust (lbs)',
                    data: [],
                    borderColor: 'blue',
                    backgroundColor: 'rgba(0, 0, 255, 0.1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    x: {
                        type: 'linear',
                        position: 'bottom',
                        title: {
                            display: true,
                            text: 'Time (seconds)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Thrust (lbs)'
                        }
                    }
                }
            }
        });

        // Function to add data to arrays and update chart
        function addData() {
            let timeInput = parseFloat(document.getElementById('time').value);
            let thrustInput = parseFloat(document.getElementById('thrust').value);
            let initialMass = parseFloat(document.getElementById('initialMass').value);
            
            // Calculate cumulative thrust
            let cumulativeThrust = dataPoints.length === 0 ? 0 : dataPoints[dataPoints.length - 1].cumulativeThrust;
            cumulativeThrust += timeInput * thrustInput;

            dataPoints.push({
                time: timeInput,
                thrust: thrustInput,
                cumulativeThrust: cumulativeThrust
            });

            updateChart();
        }

        // Function to remove last data point from arrays and update chart
        function removeLastDataPoint() {
            dataPoints.pop();
            updateChart();
        }

        // Function to update chart with current data points
        function updateChart() {
            // Reset chart data
            myChart.data.labels = [];
            myChart.data.datasets[0].data = [];

            let time = 0;
            for (let i = 0; i < dataPoints.length; i++) {
                time += dataPoints[i].time;
                myChart.data.labels.push(time.toFixed(2)); // Round time to 2 decimal places
                myChart.data.datasets[0].data.push(dataPoints[i].cumulativeThrust);
            }

            myChart.update();
        }

        // Set default selected option to 0 grams
        document.getElementById('initialMass').value = '0';
    </script>
</body>
</html>



