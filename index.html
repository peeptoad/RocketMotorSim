<script>
  let data = {
    labels: [],
    datasets: []
  };

  let ctx = document.getElementById('thrustChart').getContext('2d');
  let chart = new Chart(ctx, {
    type: 'line',
    data: data,
    options: {
      scales: {
        x: {
          type: 'linear',
          position: 'bottom'
        },
        y: {
          type: 'linear',
          position: 'left'
        }
      },
      elements: {
        line: {
          stepped: 'before'
        }
      }
    }
  });

  function addData() {
    let weight = parseFloat(document.getElementById('weight').value);
    let time = parseFloat(document.getElementById('time').value);
    let datasetIndex = chart.data.datasets.length - 1;

    if (datasetIndex < 0 || time <= chart.data.labels[chart.data.labels.length - 1]) {
      // Start a new dataset if none exist or time is less than the last point
      datasetIndex++;
      chart.data.datasets.push({
        label: 'Thrust Curve ' + (datasetIndex + 1),
        data: [],
        borderColor: getRandomColor(),
        borderWidth: 1,
        fill: false,
        stepped: 'before' // Set stepped interpolation for this dataset
      });
    }

    chart.data.labels.push(time);
    chart.data.datasets[datasetIndex].data.push(weight);
    chart.update();
  }

  function getRandomColor() {
    // Generates a random hex color code
    return '#' + Math.floor(Math.random() * 16777215).toString(16);
  }
</script>






